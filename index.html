<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yakıt Takip Sistemi</title>
    <meta name="referrer" content="no-referrer">
    <style>
        body {
            background-color: rgb(191, 209, 255);
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative;
        }
        .container {
            width: 100%;
            max-width: 600px;
            background-color: #fff;
            padding: 20px 40px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header {
            background-color: #3f51b5;
            color: white;
            padding: 20px;
            text-align: center;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            margin: -20px -40px 20px -40px;
        }
        .question-box {
            background-color: #f7f7f7;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .question-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 1.1em;
            color: #333;
        }
        .required::before {
            content: "* ";
            color: red;
        }
        input[type="date"],
        input[type="text"],
        input[type="password"],
        input[type="number"],
        input[type="file"],
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 1em;
            margin-bottom: 10px;
        }
        .button-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }
        .nav-button, .action-button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
        }
        .nav-button.next, .nav-button.submit {
            background-color: #3f51b5;
            color: white;
        }
        .nav-button.next:hover, .nav-button.submit:hover {
            background-color: #303f9f;
        }
        .nav-button.prev, .nav-button.back {
            background-color: #e0e0e0;
            color: #555;
        }
        .nav-button.prev:hover, .nav-button.back:hover {
            background-color: #ccc;
        }
        .form-reset {
            text-decoration: none;
            color: #3f51b5;
            font-size: 0.9em;
            text-align: right;
            margin-top: 10px;
            display: block;
        }
        .question-description {
            font-size: 0.9em;
            color: #555;
            margin-bottom: 10px;
        }
        .mode-panel {
            background-color: #e8eaf6;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        .mode-panel label {
            margin: 0 15px;
            font-weight: bold;
            color: #3f51b5;
        }
        .hidden {
            display: none;
        }
        .message {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
        }
        .admin-button {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 15px;
            background-color: #3f51b5;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }
        .admin-options {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .admin-option-btn {
            background-color: #3f51b5;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            margin: 5px;
            flex-grow: 1;
        }
        .admin-option-btn:hover {
            background-color: #303f9f;
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }

        /* Makbuz Yükleme Butonu Stilleri */
        .upload-button {
            width: 100%;
            padding: 10px;
            background-color: #e0e0e0;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
            font-size: 1em;
            color: #555;
            box-sizing: border-box;
            cursor: pointer;
        }
        .upload-button:hover {
            background-color: #d4d4d4;
        }
    </style>
</head>
<body>

<div class="container">
    <button class="admin-button" onclick="showPanel('login-panel')">Admin</button>
    
    <div id="login-panel" class="hidden">
        <div class="header">ADMİN GİRİŞİ</div>
        <div class="question-box">
            <label for="username" class="question-label">Kullanıcı Adı</label>
            <input type="text" id="username" name="username">
            <label for="password" class="question-label">Parola</label>
            <input type="password" id="password" name="password">
            <div id="login-message" class="message hidden"></div>
        </div>
        <div class="button-container">
            <button type="button" class="nav-button prev" onclick="showPanel('main-form')">Geri</button>
            <button type="button" class="nav-button next" onclick="login()">Giriş Yap</button>
        </div>
    </div>

    <div id="admin-panel" class="hidden">
        <div class="header">ADMİN PANELİ</div>
        <div class="admin-options">
            <button class="admin-option-btn" onclick="showAdminSection('change-password-section')">Parola Değiştir</button>
            <button class="admin-option-btn" onclick="showAdminSection('add-personnel-section')">Personel Ekle</button>
            <button class="admin-option-btn" onclick="showAdminSection('add-tanker-section')">Tanker/Havalimanı Ekle</button>
            <button class="admin-option-btn" onclick="showAdminSection('upload-excel-section')">Excelden Veri Yükle</button>
        </div>
        
        <div id="change-password-section" class="question-box">
            <h4>Parola Değiştir</h4>
            <label for="new-password" class="question-label">Yeni Parola</label>
            <input type="password" id="new-password" name="new-password">
            <label for="confirm-password" class="question-label">Yeni Parola (Tekrar)</label>
            <input type="password" id="confirm-password" name="confirm-password">
            <div id="password-change-message" class="message hidden"></div>
            <button type="button" class="action-button" onclick="changePassword()">Parolayı Değiştir</button>
        </div>

        <div id="add-personnel-section" class="question-box hidden">
            <h4>Yeni Personel Ekle</h4>
            <label for="new-personnel" class="question-label">Adı Soyadı (Büyük Harf)</label>
            <input type="text" id="new-personnel" name="new-personnel">
            <div style="margin: 15px 0;">
                <label style="font-weight: normal;"><input type="radio" name="personnel-type" value="pilot" checked> Pilot</label>
                <label style="font-weight: normal;"><input type="radio" name="personnel-type" value="driver"> Şoför</label>
            </div>
            <div id="personnel-add-message" class="message hidden"></div>
            <button type="button" class="action-button" onclick="addPersonnel()">Ekle</button>
        </div>

        <div id="add-tanker-section" class="question-box hidden">
            <h4>Yeni Tanker/Havalimanı Ekle</h4>
            <label for="new-tanker" class="question-label">Plaka/Havalimanı Adı</label>
            <input type="text" id="new-tanker" name="new-tanker">
            <div id="tanker-add-message" class="message hidden"></div>
            <button type="button" class="action-button" onclick="addTanker()">Ekle</button>
        </div>

        <div id="upload-excel-section" class="question-box hidden">
            <h4>Excel'den Veri Yükle</h4>
            <p class="question-description">Desteklenen format: .xlsx, .xls</p>
            <label for="excel-file" class="question-label">Dosya Seç</label>
            <input type="file" id="excel-file" name="excel-file" accept=".xlsx, .xls">
            <div id="excel-upload-message" class="message hidden"></div>
            <button type="button" class="action-button" onclick="uploadExcel()">Yükle</button>
        </div>

        <div class="button-container">
            <button type="button" class="nav-button back" onclick="logout()">Çıkış Yap</button>
        </div>
    </div>

    <div id="main-form">
        <div class="mode-panel">
            <label>
                <input type="radio" name="form-mode" value="giris" checked onchange="toggleFormMode()"> Makbuz Girişi
            </label>
            <label>
                <input type="radio" name="form-mode" value="kontrol" onchange="toggleFormMode()"> Makbuz Verileri Kontrol
            </label>
        </div>
        <form id="fuel-form">
            <div id="makbuz-giris-form">
                <div class="section active" id="section-1">
                    <div class="header">TARİH</div>
                    <div class="question-box">
                        <label for="date" class="question-label required">TARİH</label>
                        <input type="date" id="date" name="date" required value="2025-08-28">
                    </div>
                    <div class="button-container">
                        <div></div>
                        <button type="button" class="nav-button next" onclick="nextSection(1)">İleri</button>
                    </div>
                </div>

                <div class="section" id="section-2">
                    <div class="header">ADI SOYADI</div>
                    <div class="question-box">
                        <label for="name-select" class="question-label">ADI SOYADI</label>
                        <select id="name-select" name="name-select" onchange="onNameSelectChange()">
                            <option value="" disabled selected>Seçiniz</option>
                        </select>
                        <div style="margin-top: 10px;">
                            <label><input type="checkbox" id="no-name-checkbox" onchange="toggleManualName()"> Listede Adım Yok</label>
                        </div>
                    </div>
                    <div id="manual-name-section" class="question-box hidden">
                        <label for="manual-name" class="question-label required">AD SOYADI EKLE (Büyük harflerle yazınız.)</label>
                        <input type="text" id="manual-name" name="manual-name" disabled>
                        <div style="margin-top: 15px;">
                            <label style="font-weight: normal;"><input type="radio" name="manual-personnel-type" value="pilot" checked onchange="onNameSelectChange()"> Pilot</label>
                            <label style="font-weight: normal;"><input type="radio" name="manual-personnel-type" value="driver" onchange="onNameSelectChange()"> Şoför</label>
                        </div>
                    </div>
                    <div class="button-container">
                        <button type="button" class="nav-button prev" onclick="prevSection(2)">Geri</button>
                        <button type="button" class="nav-button next" onclick="nextSection(2)">İleri</button>
                    </div>
                </div>

                <div class="section" id="section-3">
                    <div class="header">İKMAL YERİ</div>
                    <div class="question-box">
                        <label for="location-type" class="question-label required">İKMAL TİPİ</label>
                        <select id="location-type" name="location-type" required onchange="populateLocationSelect()">
                            <option value="" disabled selected>Seçiniz</option>
                            <option value="havalimani">Havalimanı</option>
                            <option value="tanker">Tanker</option>
                        </select>
                    </div>
                    <div class="question-box">
                        <label for="location" class="question-label required">KONUM</label>
                        <select id="location" name="location" required>
                            <option value="" disabled selected>Önce ikmal tipi seçiniz</option>
                        </select>
                    </div>
                    <div class="button-container">
                        <button type="button" class="nav-button prev" onclick="prevSection(3)">Geri</button>
                        <button type="button" class="nav-button next" onclick="nextSection(3)">İleri</button>
                    </div>
                </div>

                <div class="section" id="section-4">
                    <div class="header">SİVİL MEYDAN</div>
                    <div class="question-box">
                        <h4 id="receipt-header">MAKBUZ NUMARASI</h4>
                        <p class="question-description">DAİREYE TIKLAYINIZ ARDINDAN GİRİŞ YAPINIZ</p>
                        <input type="text" id="receipt-number" name="receipt-number" placeholder="Yanıtınız" required>
                    </div>
                    <div class="button-container">
                        <button type="button" class="nav-button prev" onclick="prevSection(4)">Geri</button>
                        <button type="button" class="nav-button next" onclick="nextSection(4)">İleri</button>
                    </div>
                </div>

                <div class="section" id="section-5">
                    <div class="header">HAVA ARACI KUYRUK NUMARASI</div>
                    <div class="question-box">
                        <label for="tail-number" class="question-label required">HAVA ARACI KUYRUK NUMARASI</label>
                        <select id="tail-number" name="tail-number" required>
                            <option value="" disabled selected>Seçiniz</option>
                        </select>
                    </div>
                    <div class="button-container">
                        <button type="button" class="nav-button prev" onclick="prevSection(5)">Geri</button>
                        <button type="button" class="nav-button next" onclick="nextSection(5)">İleri</button>
                    </div>
                </div>

                <div class="section" id="section-6">
                    <div class="header">YAKIT MİKTARI</div>
                    <div class="question-box">
                        <label for="fuel-amount" class="question-label required">YAKIT MİKTARI (L)</label>
                        <input type="number" id="fuel-amount" name="fuel-amount" placeholder="Yanıtınız" required>
                    </div>
                    <div class="button-container">
                        <button type="button" class="nav-button prev" onclick="prevSection(6)">Geri</button>
                        <button type="button" class="nav-button next" onclick="nextSection(6)">İleri</button>
                    </div>
                </div>

                <div class="section" id="section-7">
                    <div class="header">MAKBUZ YÜKLE</div>
                    <div class="question-box">
                        <p class="question-description">Makbuz yüklemek için aşağıdaki pencereden açın.</p>
                        <iframe src="https://bulut.ogm.gov.tr" width="100%" height="400" style="border:1px solid #ccc;"></iframe>
                    </div>
                    
                    <div class="button-container">
                        <button type="button" class="nav-button prev" onclick="prevSection(7)">Geri</button>
                        <button type="button" class="nav-button submit" onclick="submitForm()">Gönder (Verileri Kaydet)</button>
                    </div>
                </div>
            </div>

            <div id="makbuz-kontrol-panel" class="hidden">
                <div class="header">MAKBUZ VERİLERİ KONTROL</div>
                <div class="question-box">
                    <p>Bu alanda makbuz verilerini kontrol etmek için gerekli araçlar yer alacaktır.</p>
                    <label for="kontrol-tarih-baslangic" class="question-label">Başlangıç Tarihi</label>
                    <input type="date" id="kontrol-tarih-baslangic" name="kontrol-tarih-baslangic">
                    <label for="kontrol-tarih-bitis" class="question-label">Bitiş Tarihi</label>
                    <input type="date" id="kontrol-tarih-bitis" name="kontrol-tarih-bitis">
                    <button type="button" class="nav-button submit" style="margin-top: 15px;">Verileri Getir</button>
                </div>
            </div>
            <a href="#" class="form-reset" onclick="resetForm()">Formu temizle</a>
        </form>
    </div>
</div>

<script>
    let currentSection = 1;
    let storedUsername = 'ogm';
    let storedPassword = '1839';
    let personnelList = [
        { name: 'PİLOT 1', type: 'pilot' },
        { name: 'PİLOT 2', type: 'pilot' },
        { name: 'ŞOFÖR 1', type: 'driver' },
        { name: 'ŞOFÖR 2', type: 'driver' }
    ];
    let tailNumberList = ['OR-3125', 'OR-1234'];
    let airportList = [
        'Adana Havalimanı', 'Ankara Esenboğa Havalimanı', 'Antalya Havalimanı', 'İstanbul Havalimanı', 'İzmir Adnan Menderes Havalimanı',
        'Dalaman Havalimanı', 'Milas-Bodrum Havalimanı', 'Gaziantep Havalimanı', 'Trabzon Havalimanı', 'Samsun Çarşamba Havalimanı',
        'Erzurum Havalimanı', 'Diyarbakır Havalimanı (askeri)', 'Eskişehir Anadolu Havalimanı', 'Konya Havalimanı (askeri)',
        'Merzifon Havalimanı (askeri)', 'Balıkesir Havalimanı (askeri)', 'Malatya Havalimanı (askeri)', 'Kayseri Erkilet Havalimanı (askeri)',
        'Çorlu Havalimanı (askeri)', 'Bandırma Havalimanı (askeri)', 'İncirlik Hava Üssü (askeri)'
    ];
    let tankerList = [
        'TR-3140-5', 'TR-3141-6', 'TR-3142-7', 'TR-3143-8', 'TR-3144-9',
        'TR-3145-10', 'TR-3146-11', 'TR-3147-12', 'TR-3148-13', 'TR-3149-14',
        'TR-3150-15', 'TR-3151-16', 'TR-3152-17', 'TR-3153-18', 'TR-3154-19',
        'TR-3155-20', 'TR-3156-21', 'TR-3157-22', 'TR-3158-23', 'TR-3159-24',
        'TR-3160-25', 'TR-3161-26', 'TR-3162-27', 'TR-3163-28', 'TR-3164-29',
        'TR-3165-30', 'TR-3166-31', 'TR-3167-32', 'TR-3168-33', 'TR-3169-34',
        'TR-3170-35', 'TR-3171-36', 'TR-3172-37', 'TR-3173-38', 'TR-3174-39',
        'TR-3175-40', 'TR-3176-41', 'TR-3177-42', 'TR-3178-43', 'TR-3179-44'
    ];

    function populateSelects() {
        const nameSelect = document.getElementById('name-select');
        const tailNumberSelect = document.getElementById('tail-number');
        nameSelect.innerHTML = '<option value="" disabled selected>Seçiniz</option>';
        personnelList.forEach(person => {
            nameSelect.innerHTML += `<option value="${person.name}" data-type="${person.type}">${person.name}</option>`;
        });
        tailNumberSelect.innerHTML = '<option value="" disabled selected>Seçiniz</option>';
        tailNumberList.forEach(tail => {
            tailNumberSelect.innerHTML += `<option value="${tail}">${tail}</option>`;
        });
        populateLocationSelect();
    }

    function toggleManualName() {
        const checkbox = document.getElementById('no-name-checkbox');
        const nameSelect = document.getElementById('name-select');
        const manualNameSection = document.getElementById('manual-name-section');
        const manualNameInput = document.getElementById('manual-name');
        if (checkbox.checked) {
            manualNameSection.classList.remove('hidden');
            manualNameInput.disabled = false;
            manualNameInput.required = true;
            nameSelect.disabled = true;
            nameSelect.selectedIndex = 0;
        } else {
            manualNameSection.classList.add('hidden');
            manualNameInput.disabled = true;
            manualNameInput.required = false;
            nameSelect.disabled = false;
        }
        onNameSelectChange();
    }

    function onNameSelectChange() {
        const nameSelect = document.getElementById('name-select');
        const noNameCheckbox = document.getElementById('no-name-checkbox');
        const receiptHeader = document.getElementById('receipt-header');
        let type = 'unknown';
        if (noNameCheckbox.checked) {
            type = document.querySelector('input[name="manual-personnel-type"]:checked').value;
        } else if (nameSelect.value) {
            const selectedOption = nameSelect.options[nameSelect.selectedIndex];
            type = selectedOption.getAttribute('data-type');
        }
        if (type === 'driver') {
            receiptHeader.textContent = 'ATIK-';
        } else {
            receiptHeader.textContent = 'MAKBUZ NUMARASI';
        }
    }

    function populateLocationSelect() {
        const locationTypeSelect = document.getElementById('location-type');
        const locationSelect = document.getElementById('location');
        const selectedType = locationTypeSelect.value;
        locationSelect.innerHTML = '<option value="" disabled selected>Seçiniz</option>';
        if (selectedType === 'havalimani') {
            airportList.forEach(airport => {
                locationSelect.innerHTML += `<option value="${airport}">${airport}</option>`;
            });
        } else if (selectedType === 'tanker') {
            tankerList.forEach(tanker => {
                locationSelect.innerHTML += `<option value="${tanker}">${tanker}</option>`;
            });
        }
    }

    function showSection(sectionNumber) {
        const sections = document.querySelectorAll('#makbuz-giris-form .section');
        sections.forEach(section => {
            section.classList.remove('active');
        });
        document.getElementById('section-' + sectionNumber).classList.add('active');
        currentSection = sectionNumber;
    }

    function nextSection(current) {
        const currentInputs = document.getElementById('section-' + current).querySelectorAll('[required]:not([disabled])');
        for (const input of currentInputs) {
            if (!input.value) {
                alert('Lütfen bu alanı doldurun.');
                return;
            }
        }
        let next = current + 1;
        if (current === 4) {
            const noNameCheckbox = document.getElementById('no-name-checkbox');
            const nameSelect = document.getElementById('name-select');
            let selectedType = 'unknown';
            if (noNameCheckbox.checked) {
                selectedType = document.querySelector('input[name="manual-personnel-type"]:checked').value;
            } else if (nameSelect.value) {
                selectedType = nameSelect.options[nameSelect.selectedIndex].getAttribute('data-type');
            }
            if (selectedType === 'driver') {
                next++;
            }
        }
        showSection(next);
    }

    function prevSection(current) {
        let prev = current - 1;
        const noNameCheckbox = document.getElementById('no-name-checkbox');
        const nameSelect = document.getElementById('name-select');
        let selectedType = 'unknown';
        if (noNameCheckbox.checked) {
            selectedType = document.querySelector('input[name="manual-personnel-type"]:checked').value;
        } else if (nameSelect.value) {
            selectedType = nameSelect.options[nameSelect.selectedIndex].getAttribute('data-type');
        }
        if (current === 6 && selectedType === 'driver') {
            prev--;
        }
        showSection(prev);
    }

    function resetForm() {
        document.getElementById('fuel-form').reset();
        toggleManualName();
        showSection(1);
    }

    function showPanel(panelId) {
        document.getElementById('main-form').classList.add('hidden');
        document.getElementById('login-panel').classList.add('hidden');
        document.getElementById('admin-panel').classList.add('hidden');
        document.getElementById(panelId).classList.remove('hidden');
    }

    function toggleFormMode() {
        const mode = document.querySelector('input[name="form-mode"]:checked').value;
        const girisForm = document.getElementById('makbuz-giris-form');
        const kontrolPanel = document.getElementById('makbuz-kontrol-panel');
        const formResetLink = document.querySelector('.form-reset');
        if (mode === 'giris') {
            girisForm.classList.remove('hidden');
            kontrolPanel.classList.add('hidden');
            formResetLink.classList.remove('hidden');
            showSection(1);
        } else if (mode === 'kontrol') {
            girisForm.classList.add('hidden');
            kontrolPanel.classList.remove('hidden');
            formResetLink.classList.add('hidden');
        }
    }
    
    function login() {
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const messageDiv = document.getElementById('login-message');
        messageDiv.classList.add('hidden');
        if (username === storedUsername && password === storedPassword) {
            showPanel('admin-panel');
            showAdminSection('change-password-section');
        } else {
            messageDiv.textContent = 'Hatalı kullanıcı adı veya parola!';
            messageDiv.classList.remove('hidden');
            messageDiv.classList.add('error');
        }
    }

    function logout() {
        showPanel('main-form');
        document.getElementById('username').value = '';
        document.getElementById('password').value = '';
    }

    function changePassword() {
        const newPassword = document.getElementById('new-password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        const messageDiv = document.getElementById('password-change-message');
        messageDiv.classList.add('hidden');
        if (newPassword === '' || newPassword !== confirmPassword) {
            messageDiv.textContent = 'Parolalar eşleşmiyor veya boş olamaz!';
            messageDiv.classList.remove('hidden');
            messageDiv.classList.add('error');
            return;
        }
        storedPassword = newPassword;
        messageDiv.textContent = 'Parola başarıyla değiştirildi.';
        messageDiv.classList.remove('hidden');
        messageDiv.classList.add('success');
    }

    function showAdminSection(sectionId) {
        const sections = document.querySelectorAll('#admin-panel .question-box');
        sections.forEach(section => {
            section.classList.add('hidden');
        });
        document.getElementById(sectionId).classList.remove('hidden');
    }

    function addPersonnel() {
        const newPersonnelName = document.getElementById('new-personnel').value.toUpperCase();
        const newPersonnelType = document.querySelector('input[name="personnel-type"]:checked').value;
        const messageDiv = document.getElementById('personnel-add-message');
        const isExists = personnelList.some(p => p.name === newPersonnelName);
        if (newPersonnelName && !isExists) {
            personnelList.push({ name: newPersonnelName, type: newPersonnelType });
            populateSelects();
            messageDiv.textContent = `${newPersonnelName} (${newPersonnelType}) başarıyla eklendi.`;
            messageDiv.classList.remove('hidden', 'error');
            messageDiv.classList.add('success');
            document.getElementById('new-personnel').value = '';
        } else {
            messageDiv.textContent = 'Personel adı boş veya zaten mevcut!';
            messageDiv.classList.remove('hidden', 'success');
            messageDiv.classList.add('error');
        }
    }

    function addTanker() {
        const newTanker = document.getElementById('new-tanker').value.toUpperCase();
        const messageDiv = document.getElementById('tanker-add-message');
        const isExists = tankerList.includes(newTanker) || airportList.includes(newTanker);
        if (newTanker && !isExists) {
            tankerList.push(newTanker);
            populateSelects();
            messageDiv.textContent = `${newTanker} başarıyla eklendi.`;
            messageDiv.classList.remove('hidden', 'error');
            messageDiv.classList.add('success');
            document.getElementById('new-tanker').value = '';
        } else {
            messageDiv.textContent = 'Tanker/Havalimanı adı boş veya zaten mevcut!';
            messageDiv.classList.remove('hidden', 'success');
            messageDiv.classList.add('error');
        }
    }

    function uploadExcel() {
        const fileInput = document.getElementById('excel-file');
        const messageDiv = document.getElementById('excel-upload-message');
        if (fileInput.files.length > 0) {
            messageDiv.textContent = `${fileInput.files[0].name} dosyası başarıyla yüklendi ve işlendi (simülasyon).`;
            messageDiv.classList.remove('hidden', 'error');
            messageDiv.classList.add('success');
        } else {
            messageDiv.textContent = 'Lütfen bir dosya seçin.';
            messageDiv.classList.remove('hidden', 'success');
            messageDiv.classList.add('error');
        }
    }
    
    function openPopup() {
        const url = 'https://bulut.ogm.gov.tr/DENEME5';
        const width = 400; // Yarıya küçültülmüş genişlik
        const height = 300; // Yarıya küçültülmüş yükseklik
        const left = (window.innerWidth - width) / 2;
        const top = (window.innerHeight - height) / 2;
        
        window.open(url, '_blank', `width=${width},height=${height},left=${left},top=${top},scrollbars=yes,resizable=yes`);
    }

    function submitForm() {
        alert("Form verileri kaydedildi. Lütfen makbuzunuzu açılan sayfada yüklemeyi unutmayın!");
        resetForm();
    }
    
    window.onload = function() {
        populateSelects();
        showPanel('main-form');
        toggleFormMode();
        onNameSelectChange();
        showSection(1);
    };
</script>

</body>
</html>
